{% extends 'core/base.html' %} 
{% load static %} 
{% block title %}Payment |
Giant Fx Academy{% endblock %} {% block content %}
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/css/intlTelInput.css"
/>

{% if form.errors %}
<div class="alert alert-danger">
  <strong>There was an error submitting your form:</strong>
  <ul>
    {% for field, errors in form.errors.items %}
    <li><strong>{{ field }}:</strong> {{ errors|striptags }}</li>
    {% endfor %}
  </ul>
</div>
{% endif %}

<div class="container py-5">
  <div class="text-center mb-4">
    <i class="bi bi-cash-coin display-1 text-primary"></i>
    <h2 class="mt-3">Secure Payment</h2>
    <p class="text-muted">Complete your payment using your preferred method</p>
  </div>

  <div class="row justify-content-center">
    <div class="col-lg-6">
      <form id="payment-form" method="POST" class="border p-4 bg-light rounded">
        {% csrf_token %}

        <div class="mb-3">
          <label for="name" class="form-label">Full Name</label>
          <input
            type="text"
            name="name"
            class="form-control"
            placeholder="Your Full Name"
            required
          />
        </div>

        <div class="mb-3">
          <label for="email" class="form-label">Email Address</label>
          <input
            type="email"
            name="email"
            class="form-control"
            placeholder="your@email.com"
            required
          />
        </div>

        <div class="mb-3">
          <label for="phone-input" class="form-label">Phone</label>
          <input
            type="tel"
            name="phone"
            id="phone-input"
            class="form-control"
            placeholder="+234..."
            required
          />
        </div>

        <!-- Hidden inputs to store actual data to be submitted -->
        <input
          type="hidden"
          name="product_type"
          value="{{ request.GET.product }}"
        />
        <input type="hidden" name="amount" value="{{ amount }}" />

        <div class="mb-3">
          <label class="form-label">Product</label>
          <input
            type="text"
            class="form-control"
            value="{{ product_name }}"
            readonly
          />
        </div>

        <div class="mb-3">
          <label class="form-label">Amount</label>
          <input
            type="text"
            class="form-control"
            value="${{ amount }}"
            readonly
          />
        </div>

        <div class="mb-3">
          <label class="form-label">Payment Method</label>
          <select
            name="payment_method"
            id="payment-method"
            class="form-select"
            required
          >
            <option value="" disabled selected>Choose a method</option>
            <option value="bank">Bank Transfer</option>
            <option value="crypto">Crypto</option>
          </select>
        </div>
        <div class="d-grid">
          <button type="submit" class="btn btn-primary py-3">
            Submit Payment
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
<div class="container-xxl py-5 wow fadeInUp" data-wow-delay="0.1s">
  <div class="container text-center">
    <div class="row justify-content-center">
      <div class="col-lg-6">
        <a
          class="btn btn-primary rounded-pill py-3 px-5"
          href="{% url 'home' %}"
          >Go Back To Home</a
        >
      </div>
    </div>
  </div>
</div> 



<!-- Phone Number Formatter -->
<script src="https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/js/intlTelInput.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/js/utils.js"></script>

<script>
  const input = document.querySelector("#phone-input");
  window.intlTelInput(input, {
    initialCountry: "ng",
    utilsScript:
      "https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/js/utils.js",
  });
</script>

{% endblock %}
